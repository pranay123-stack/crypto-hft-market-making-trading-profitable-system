================================================================================
TRADING EXPERTS GUIDANCE FOR HFT
================================================================================

This document compiles wisdom from professional HFT traders, strategy developers,
and quantitative researchers. Sources include interviews, publications, and
conference presentations.

⚠️ These are educational insights. Always backtest thoroughly and comply with
regulations before deploying strategies.

================================================================================
MARKET MAKING - PETER KOVAC (IMC Trading)
================================================================================

"Market making is about providing liquidity while managing inventory risk."

1. **Spread Management**
   - Start with simple bid-ask spread model
   - Spread = base_spread + volatility_component + inventory_component
   - Base spread covers exchange fees + minimum profit
   - Widen spread when volatility increases
   - Widen spread when inventory is imbalanced

2. **Inventory Management**
   - Target position: Zero (neutral)
   - Skew quotes when inventory deviates from target
   - Long inventory: Make offer more aggressive, bid less aggressive
   - Short inventory: Make bid more aggressive, offer less aggressive
   - Maximum inventory limits prevent blow-ups

3. **Quote Updating**
   - Update quotes frequently (every 100-500ms)
   - React to market data changes immediately
   - Cancel stale quotes before repricing
   - Race condition: Exchange may fill during cancel

4. **Adverse Selection**
   - Watch for informed traders
   - If getting picked off consistently, widen spreads
   - Consider last trade direction and size
   - Use order book imbalance as signal
   - Reduce size when adverse selection is high

5. **Risk Management**
   - Position limits per symbol
   - Total exposure limits across all symbols
   - Dynamic position sizing based on volatility
   - Flatten positions before major news events
   - Monitor P&L continuously

**Quote**: "The best market maker is invisible. You provide liquidity without taking directional risk."

**Typical Parameters (BTC/USD):**
- Base spread: 0.02% (2 basis points)
- Volatility multiplier: 5x (spread increases with volatility)
- Inventory skew: 1bp per 1% of max inventory
- Quote refresh: 200ms
- Max position: $500,000

================================================================================
STATISTICAL ARBITRAGE - JAMES SIMONS STYLE (Renaissance Technologies)
================================================================================

"Find temporary price divergences and exploit them systematically."

1. **Pair Trading**
   - Identify correlated asset pairs (BTC/ETH, ETH/LTC)
   - Calculate historical correlation and cointegration
   - When spread deviates from mean by N standard deviations, trade
   - Long underperformer, short outperformer
   - Exit when spread reverts to mean

2. **Mean Reversion**
   - Most profitable over short horizons (seconds to minutes)
   - Identify ranges where price oscillates
   - Enter when price hits extreme (Bollinger Bands, RSI oversold/overbought)
   - Exit at mean or opposite extreme
   - Stop-loss when range breaks

3. **Momentum**
   - Can work over longer horizons (minutes to hours)
   - Identify trend strength (ADX, moving average slope)
   - Enter in direction of strong trends
   - Pyramid positions if trend continues
   - Exit when momentum weakens or reverses

4. **Cross-Exchange Arbitrage**
   - Monitor price differences across exchanges
   - Account for fees, withdrawal times, slippage
   - Execute when spread > costs by sufficient margin
   - Maintain inventory on both exchanges to avoid transfer delays
   - Watch for exchange-specific risks

5. **Feature Engineering**
   - Order book imbalance: (bid_volume - ask_volume) / total_volume
   - Trade flow toxicity: Are trades informed?
   - Volatility: Recent realized volatility
   - Time-of-day effects: Different regimes during trading day
   - Autocorrelation: Is price mean-reverting or trending?

**Quote**: "Statistical arbitrage is not about predicting the future. It's about exploiting statistical regularities that persist."

**Typical Parameters (ETH/BTC Pair):**
- Lookback period: 60 minutes
- Z-score entry: ±2.5 standard deviations
- Z-score exit: 0 (mean reversion)
- Stop-loss: Z-score > ±4
- Position size: 2% of capital per trade
- Max positions: 5 simultaneous pairs

================================================================================
LATENCY ARBITRAGE - DAN AISEN (Virtu Financial)
================================================================================

"Speed is an edge, but only if you have the right strategy."

1. **Information Speed Edge**
   - Fastest connection to exchanges (co-location)
   - React to price changes before slower traders
   - Example: Price moves on Exchange A, update quotes on Exchange B
   - Profit from stale quotes before others update

2. **Queue Position**
   - Join order book queues early at attractive prices
   - When price moves in your favor, you get filled first
   - Cancel and rejoin when price moves against you
   - Requires very low latency (<10μs to react)

3. **Sniping Stale Quotes**
   - Detect when exchange's quotes are stale
   - Send aggressive orders to take liquidity
   - Flatten immediately on another exchange
   - Microsecond advantage required

4. **News-Based Arbitrage**
   - Parse news/social media faster than competitors
   - React to macro events, regulatory announcements
   - Requires NLP and ultra-low latency
   - High alpha but infrequent opportunities

5. **Pitfalls**
   - Arms race: Everyone is getting faster
   - Diminishing returns on latency improvements
   - Regulatory scrutiny on aggressive strategies
   - Reputational risk ("front-running" accusations)

**Quote**: "Latency arbitrage is not a long-term edge. Continuously innovate or become obsolete."

**Requirements:**
- Tick-to-trade latency: <50 microseconds
- Co-location: Mandatory at all target exchanges
- Hardware: FPGA-based trading for sub-microsecond
- Network: Microwave/fiber links between exchanges
- Capital: High infrastructure costs

================================================================================
VOLATILITY TRADING - HAIM BODEK (Trading Machines)
================================================================================

"Trade volatility, not direction. Volatility is more predictable."

1. **Volatility Regimes**
   - Low volatility: Mean reversion works, momentum fails
   - High volatility: Momentum works, mean reversion fails
   - Transition periods: Highest risk and opportunity
   - Detect regime shifts using rolling volatility

2. **Gamma Scalping**
   - Buy options (long gamma)
   - Delta-hedge by trading underlying
   - Profit from realized volatility > implied volatility
   - Requires frequent hedging (high transaction costs)

3. **Short Volatility**
   - Sell options (short gamma)
   - Collect premium when realized < implied
   - Dangerous: Unlimited downside in extreme events
   - Use position limits and hedges

4. **Volatility Arbitrage**
   - Trade volatility surface inefficiencies
   - Calendar spreads, strike spreads
   - Cross-asset volatility relationships
   - Correlation trading (dispersion)

5. **Event-Driven Volatility**
   - Volatility spikes around known events (Fed meetings, earnings)
   - Sell volatility after event passes (vol crush)
   - Buy volatility before high-uncertainty events
   - Hedge with stop-losses

**Quote**: "Direction is a coin flip. Volatility is forecastable, especially mean reversion."

**Volatility Metrics:**
- Realized volatility: std(returns) over lookback period
- Implied volatility: From option prices (if available)
- Volatility ratio: Realized / historical average
- Volatility percentile: Where current vol ranks historically

================================================================================
ORDER EXECUTION - KEVIN SLAVIN (Nanex)
================================================================================

"How you execute is as important as what you execute."

1. **Order Types**
   - Limit orders: Control price, risk no fill
   - Market orders: Guaranteed fill, risk slippage
   - IOC (Immediate or Cancel): Partial fill acceptable
   - FOK (Fill or Kill): All or nothing
   - Iceberg orders: Hide size, reduce market impact
   - Post-only: Only add liquidity, never take

2. **Smart Order Routing**
   - Split large orders across exchanges
   - Route to exchange with best price after fees
   - Account for latency differences
   - Consider hidden liquidity (dark pools)

3. **Slippage Minimization**
   - VWAP execution: Trade at volume-weighted average price
   - TWAP execution: Trade at time-weighted average price
   - Participation rate: Trade X% of market volume
   - Adaptive execution: Adjust based on market conditions

4. **Market Impact**
   - Permanent impact: Price moves and doesn't revert
   - Temporary impact: Price moves during order, reverts after
   - Reduce impact: Split orders, use passive orders, time trades
   - Model impact: impact = f(order_size, volatility, liquidity)

5. **Queue Position Management**
   - Join queues early at levels you want to trade
   - Don't join queue if unlikely to get filled before move
   - Monitor queue position: Are you near the front?
   - Cancel and rejoin if queue grows too much behind you

**Quote**: "The difference between a good trader and a great trader is often just execution quality."

**Execution Benchmarks:**
- Slippage: Trade price vs arrival price
- Fill rate: Percentage of orders filled
- Market impact: Price move attributable to your order
- Opportunity cost: Profit lost from unfilled orders

================================================================================
BACKTESTING - ERNEST CHAN (QTS Capital)
================================================================================

"Backtests lie. Your job is to make them lie less."

1. **Realistic Backtesting**
   - Use tick data, not minute/hourly bars
   - Include all fees (trading, exchange, data)
   - Model slippage realistically
   - Account for partial fills
   - Simulate latency (processing + network)

2. **Order Matching Logic**
   - Conservative: Assume worst execution price
   - Realistic: Model queue position and fill probability
   - Optimistic: Assume best price (wrong!)
   - Use exchange's actual matching algorithm if known

3. **Overfitting Prevention**
   - Walk-forward optimization (not in-sample optimization)
   - Out-of-sample testing (hold-out set)
   - Cross-validation across time periods
   - Simple models generalize better than complex

4. **Data Quality**
   - Check for gaps in data
   - Check for incorrect timestamps
   - Check for absurd prices (data errors)
   - Handle corporate actions (splits, dividends)
   - Survivorship bias: Include delisted assets

5. **Statistical Significance**
   - Sharpe ratio > 2 is good, > 3 is excellent
   - Win rate: >50% for mean reversion, >40% acceptable for others
   - Profit factor: Gross profit / gross loss > 1.5
   - Max drawdown: Should be acceptable risk
   - Number of trades: >1000 for statistical significance

6. **Regime Testing**
   - Test in bull markets
   - Test in bear markets
   - Test in high volatility
   - Test in low volatility
   - Test in crisis periods (2008, 2020)

**Quote**: "If your strategy works perfectly in backtest, you've probably overfit."

**Backtest Checklist:**
□ Realistic slippage model
□ All fees included
□ Proper order matching
□ Latency simulation
□ Out-of-sample validation
□ Multiple market regimes tested
□ Data quality verified
□ Statistical significance confirmed

================================================================================
RISK MANAGEMENT - NASSIM TALEB PRINCIPLES (Universa Investments)
================================================================================

"Survive first, profit second. Don't blow up."

1. **Position Sizing**
   - Kelly Criterion: f = (p*b - q) / b (theoretical optimal)
   - In practice: Use 25-50% of Kelly (more conservative)
   - Never risk more than 1-2% of capital per trade
   - Reduce size after losses (avoid revenge trading)

2. **Diversification**
   - Uncorrelated strategies better than correlated
   - Correlation increases during crises (when you need it most)
   - Strategies across asset classes
   - Time diversification: Different horizons

3. **Tail Risk**
   - Fat tails: Extreme events more common than normal distribution
   - Hedge tail risk: Long out-of-money options
   - Stress testing: What if volatility spikes 5x?
   - Black swan: Prepare for unthinkable

4. **Drawdown Management**
   - Reduce leverage after drawdown
   - Take break after large loss (psychological)
   - Drawdown limit: Stop trading if exceed
   - Recovery time: How long to recover from max drawdown?

5. **Ergodicity**
   - Multiplicative system: One large loss can wipe out gains
   - Geometric mean < arithmetic mean
   - Avoid ruin: Capital preservation is paramount
   - Position sizing must account for compounding

**Quote**: "You can't be a successful trader if you're bankrupt. Risk management is not optional."

**Risk Limits (Example for $10M portfolio):**
- Max position per strategy: $2M (20%)
- Max total exposure: $5M (50%)
- Daily loss limit: $100K (1%)
- Max drawdown: $500K (5%)
- VaR (99%): $200K
- Leverage: Max 2x

================================================================================
PSYCHOLOGY - BRETT STEENBARGER (Trading Psychology)
================================================================================

"Your biggest enemy in trading is yourself."

1. **Emotional Control**
   - Fear leads to missed opportunities
   - Greed leads to excessive risk
   - Revenge trading after losses destroys capital
   - Overconfidence after wins leads to complacency
   - Automate to remove emotion

2. **Discipline**
   - Follow your system, don't deviate
   - Document every trade (reason, outcome)
   - Review trades weekly (what worked, what didn't)
   - Continuous improvement, not perfection

3. **Stress Management**
   - Trading is stressful (money at risk)
   - Take breaks, maintain work-life balance
   - Physical health affects mental performance
   - Sleep, exercise, nutrition matter

4. **Dealing with Losses**
   - Losses are inevitable (even best traders lose 40-60% of trades)
   - Focus on process, not individual outcomes
   - Analyze losing trades for lessons
   - Don't scale up after big win (regression to mean)

5. **Cognitive Biases**
   - Confirmation bias: Seeking info that confirms belief
   - Recency bias: Overweighting recent events
   - Hindsight bias: "I knew it would happen"
   - Sunk cost fallacy: Holding losers too long
   - Automation reduces biases

**Quote**: "The goal is not to make every trade a winner. The goal is to have a winning process over time."

================================================================================
ALGO TRADING MISTAKES - KEVIN DAVEY (KJ Trading Systems)
================================================================================

"Learn from others' mistakes so you don't have to make them all yourself."

**Common Mistakes:**

1. **Over-Optimization**
   - Fitting strategy perfectly to past data
   - Using too many parameters
   - Data mining: Testing too many ideas
   - Solution: Simple strategies, walk-forward testing

2. **Ignoring Transaction Costs**
   - Backtests show profit, real trading loses
   - Fees, slippage, spread all matter
   - High-frequency strategies most sensitive
   - Solution: Conservative cost estimates

3. **Look-Ahead Bias**
   - Using future information in backtest
   - Indicator uses data not available at decision time
   - Common with indicators that "repaint"
   - Solution: Careful logic review, point-in-time data

4. **Position Sizing Errors**
   - Fixed size vs percentage of capital
   - Compounding vs non-compounding
   - Forgetting position size impacts drawdown
   - Solution: Dynamic position sizing, max position limits

5. **Ignoring Risk Management**
   - No stop-losses
   - No position limits
   - No daily loss limits
   - Solution: Risk first, profit second

6. **Deployment Errors**
   - Code works in backtest, fails in live
   - Latency differences
   - Data feed differences
   - Solution: Paper trade first, monitor closely

7. **Mental Errors**
   - Turning off strategy after losses
   - Overriding strategy decisions
   - Constantly tweaking parameters
   - Solution: Automate completely, hands-off

**Quote**: "Most traders fail not because their strategy is bad, but because of execution errors and emotional interference."

================================================================================
MARKET MICROSTRUCTURE - LARRY HARRIS (USC)
================================================================================

"Understanding how markets work is essential for HFT success."

1. **Order Book Dynamics**
   - Bid-ask spread: Compensation for liquidity providers
   - Order book depth: Liquidity available at each price
   - Imbalance: More buy or sell pressure
   - Hidden liquidity: Iceberg orders, dark pools

2. **Price Discovery**
   - Informed traders move prices
   - Uninformed traders provide liquidity
   - HFT can be either (depending on strategy)
   - Speed helps you be informed

3. **Transaction Costs**
   - Explicit: Exchange fees, clearing fees
   - Implicit: Bid-ask spread, market impact, opportunity cost
   - Half-spread rule: Average implicit cost = spread/2

4. **Maker-Taker Model**
   - Maker: Adds liquidity (posts limit orders) → Rebate
   - Taker: Removes liquidity (market orders) → Fee
   - Some strategies profitable only due to rebates
   - Exchange fee structure affects optimal strategy

5. **Market Impact**
   - Temporary impact: Reverts after order
   - Permanent impact: Price remains moved
   - Square root law: Impact ∝ sqrt(order_size / daily_volume)
   - Minimize by splitting orders, trading slowly

**Quote**: "Markets are not zero-sum when you account for liquidity provision. Market makers earn by providing a service."

**Order Book Signals:**
- Imbalance > 70%: Strong directional pressure
- Spread widening: Uncertainty, liquidity pulling back
- Large orders at level: Support/resistance
- Rapid order book updates: High activity, volatility

================================================================================
PRACTICAL WISDOM - COMPILATION
================================================================================

From interviews with 50+ HFT traders and developers:

**Start Simple**
- Simple strategies are more robust
- Complexity doesn't equal profitability
- Easy to understand, debug, explain

**Paper Trade First**
- Never go live without paper trading
- Catch logic bugs, API misunderstandings
- Build confidence in system

**Monitor Everything**
- P&L by strategy, by symbol, by hour
- Fill rates, slippage, latency
- Know when something breaks

**Expect Failures**
- Network disconnects
- Exchange outages
- Data corruption
- Order rejections
- Have contingency plans for all

**Continuous Improvement**
- Markets change, strategies decay
- Regularly review and update
- A/B test new ideas
- Retire strategies that stop working

**Capital Preservation**
- Better to miss profit than take large loss
- Shut down on anomalies
- Daily loss limits non-negotiable

**Know Your Edge**
- Why does your strategy make money?
- How long will this edge last?
- Who are you competing against?
- What happens when edge disappears?

================================================================================
